<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/actions.html">actions</a></li>
  <li><a href="../modules/checks.html">checks</a></li>
  <li><strong>collections</strong></li>
  <li><a href="../modules/filters.html">filters</a></li>
  <li><a href="../modules/list_and_tables.html">list_and_tables</a></li>
  <li><a href="../modules/main.html">main</a></li>
  <li><a href="../modules/strings_and_files.html">strings_and_files</a></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/Agent.html">Agent</a></li>
  <li><a href="../classes/Cell.html">Cell</a></li>
  <li><a href="../classes/Collection.html">Collection</a></li>
  <li><a href="../classes/Family.html">Family</a></li>
  <li><a href="../classes/FamilyCell.html">FamilyCell</a></li>
  <li><a href="../classes/FamilyMobil.html">FamilyMobil</a></li>
  <li><a href="../classes/FamilyRelational.html">FamilyRelational</a></li>
  <li><a href="../classes/Metacollection.html">Metacollection</a></li>
  <li><a href="../classes/Mobil.html">Mobil</a></li>
  <li><a href="../classes/Params.html">Params</a></li>
  <li><a href="../classes/Relational.html">Relational</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>collections</code></h1>
<p></p>
<p></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#create_patches">create_patches (x, y)</a></td>
	<td class="summary">A function to create a bidimensional grid of patches quickily</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ask">ask (elements)</a></td>
	<td class="summary">Applies a function to all elements.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ask">ask (fam, funct)</a></td>
	<td class="summary">Applies an anonymous function to a Family of agents.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ask_n">ask_n (n, fam, funct)</a></td>
	<td class="summary">It warks same way as "ask", but this function applies the action only at n random selected elements of the family.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#die">die (agent, family)</a></td>
	<td class="summary">Marks an agent as die by given a value of false to its param 'alive'.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#clone_n_act">clone_n_act (family, n, agent, funct)</a></td>
	<td class="summary">This function encapsulates a call to the function clone_n_act in the Family given as parameter.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#purge_agents">purge_agents (...)</a></td>
	<td class="summary">This function delete from the system all agents marked as not alive (a value of false in its parameter 'alive'), it will also delete all the relational agents that involve a not-alive agent.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#__producer">__producer (list, list)</a></td>
	<td class="summary">Internal function to make the iterator.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#__consumer">__consumer (list, index)</a></td>
	<td class="summary">Beside the producer, this functions are a coroutine to implement the Fisher-Yates shuffle.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "create_patches"></a>
    <strong>create_patches (x, y)</strong>
    </dt>
    <dd>
    A function to create a bidimensional grid of patches quickily


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         Number. Dimension of x axis of the grid
        </li>
        <li><span class="parameter">y</span>
         Number. Dimension of y axis of the grid
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        A FamilyCell instance
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">Patches = create_patches(<span class="number">100</span>,<span class="number">100</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "ask"></a>
    <strong>ask (elements)</strong>
    </dt>
    <dd>
    Applies a function to all elements.  Works with Families or with subsets of families (Collections).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">elements</span>
         A Family or a filtered Family to ask to do something.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Nothing
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ask(Nodes, <span class="keyword">function</span>(node)
    <span class="keyword">if</span> Node:xcor() &gt; <span class="number">4</span> <span class="keyword">then</span> Node.color = {<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>} <span class="keyword">end</span>
<span class="keyword">end</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "ask"></a>
    <strong>ask (fam, funct)</strong>
    </dt>
    <dd>
    Applies an anonymous function to a Family of agents.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fam</span>
         A Family instance. Note that Collections are also Families.
        </li>
        <li><span class="parameter">funct</span>
         Anonymous function that will be applied to the agents of the family.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Nothing
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../classes/Family.html#Instance:ask">Family.ask</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example">ask(A_family, <span class="keyword">function</span>(ag) ag:fd(<span class="number">1.3</span>) <span class="keyword">end</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "ask_n"></a>
    <strong>ask_n (n, fam, funct)</strong>
    </dt>
    <dd>
    It warks same way as "ask", but this function applies the action only at n random selected elements of the family.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">n</span>
         Number of agents to be asked.
        </li>
        <li><span class="parameter">fam</span>
         Family where the agents will be asked..
        </li>
        <li><span class="parameter">funct</span>
         Anonymous function that will be applied to the agents.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Nothing
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../classes/Family.html#Instance:ask_n">Family.ask_n</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example">ask_n(Agents, <span class="keyword">function</span>(ag) ag:fd(<span class="number">2.1</span>) <span class="keyword">end</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "die"></a>
    <strong>die (agent, family)</strong>
    </dt>
    <dd>
    Marks an agent as die by given a value of false to its param 'alive'.  Agents with alive=false does not do actions when we ask to the agents in the family to do something, but they still are present in the table 'agents' of its family and all its links with other agents are presents in the simulation. If you want to totally remove an agent and its relations with others of the simulation you have to do 'purge_agents()'.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">agent</span>
         The agent we want to mark as die.
        </li>
        <li><span class="parameter">family</span>
         The family the agent belongs to. Optional param, if not gived
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Nothing
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ask(Nodes, <span class="keyword">function</span>(node)
    <span class="keyword">if</span> node.color == {<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>} <span class="keyword">then</span>
        die(node, Nodes)
    <span class="keyword">end</span>
<span class="keyword">end</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "clone_n_act"></a>
    <strong>clone_n_act (family, n, agent, funct)</strong>
    </dt>
    <dd>
    This function encapsulates a call to the function clone_n_act in the Family given as parameter.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">family</span>
         The Family where the agent belongs to and where the clones will be added.
        </li>
        <li><span class="parameter">n</span>
         Number. The number of agents to clone
        </li>
        <li><span class="parameter">agent</span>
         The Agent instance used as model to create the clones
        </li>
        <li><span class="parameter">funct</span>
         Optional. An anonymous function to ask the clones to do something
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Nothing
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">clone_n_act(<span class="number">3</span>, ag1, ag1_family, <span class="keyword">function</span>(clone)
    clone:gtrn()
<span class="keyword">end</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "purge_agents"></a>
    <strong>purge_agents (...)</strong>
    </dt>
    <dd>
    This function delete from the system all agents marked as not alive (a value of false in its parameter 'alive'), it will also delete all the relational agents that involve a not-alive agent.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>
         Undefined number of Families from where we want to purge agents. If no Family is passed, it purge all families in the system.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Nothing
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">purge_agents(Prays, Predators)</pre>
    </ul>

</dd>
    <dt>
    <a name = "__producer"></a>
    <strong>__producer (list, list)</strong>
    </dt>
    <dd>
    Internal function to make the iterator.  It yields a random item of the list gived as parameter every time it is called. This function is called by a consumer function when a new element is needed


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">list</span>
         A index of the list
        </li>
        <li><span class="parameter">list</span>
         A index of the list
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        A random element in a position lower or equal to "index" parameter
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> status, number = <span class="global">coroutine</span>.resume(utl_fam.__producer(list, index))</pre>
    </ul>

</dd>
    <dt>
    <a name = "__consumer"></a>
    <strong>__consumer (list, index)</strong>
    </dt>
    <dd>
    Beside the producer, this functions are a coroutine to implement the Fisher-Yates shuffle.  __consumer calls the __producer to take a new element of the list.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">list</span>
         A list of elements.
        </li>
        <li><span class="parameter">index</span>
         A position in the list.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        A new element of the list
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">for</span> i=#list,<span class="number">1</span>,-<span class="number">1</span> <span class="keyword">do</span>
    <span class="keyword">local</span> new_element = __consumer(list,i)
    <span class="global">print</span>(new_element)
<span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2020-08-24 08:42:26 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
