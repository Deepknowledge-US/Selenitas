{"ast":null,"code":"'use strict';\n\nfunction ReInterval(callback, interval, args) {\n  var self = this;\n  this._callback = callback;\n  this._args = args;\n  this._interval = setInterval(callback, interval, this._args);\n\n  this.reschedule = function (interval) {\n    // if no interval entered, use the interval passed in on creation\n    if (!interval) interval = self._interval;\n    if (self._interval) clearInterval(self._interval);\n    self._interval = setInterval(self._callback, interval, self._args);\n  };\n\n  this.clear = function () {\n    if (self._interval) {\n      clearInterval(self._interval);\n      self._interval = undefined;\n    }\n  };\n\n  this.destroy = function () {\n    if (self._interval) {\n      clearInterval(self._interval);\n    }\n\n    self._callback = undefined;\n    self._interval = undefined;\n    self._args = undefined;\n  };\n}\n\nfunction reInterval() {\n  if (typeof arguments[0] !== 'function') throw new Error('callback needed');\n  if (typeof arguments[1] !== 'number') throw new Error('interval needed');\n  var args;\n\n  if (arguments.length > 0) {\n    args = new Array(arguments.length - 2);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 2];\n    }\n  }\n\n  return new ReInterval(arguments[0], arguments[1], args);\n}\n\nmodule.exports = reInterval;","map":{"version":3,"sources":["/home/one/node_modules/reinterval/index.js"],"names":["ReInterval","callback","interval","args","self","_callback","_args","_interval","setInterval","reschedule","clearInterval","clear","undefined","destroy","reInterval","arguments","Error","length","Array","i","module","exports"],"mappings":"AAAA;;AAEA,SAASA,UAAT,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyCC,IAAzC,EAA+C;AAC7C,MAAIC,IAAI,GAAG,IAAX;AAEA,OAAKC,SAAL,GAAiBJ,QAAjB;AACA,OAAKK,KAAL,GAAaH,IAAb;AAEA,OAAKI,SAAL,GAAiBC,WAAW,CAACP,QAAD,EAAWC,QAAX,EAAqB,KAAKI,KAA1B,CAA5B;;AAEA,OAAKG,UAAL,GAAkB,UAAUP,QAAV,EAAoB;AACpC;AACA,QAAI,CAACA,QAAL,EACEA,QAAQ,GAAGE,IAAI,CAACG,SAAhB;AAEF,QAAIH,IAAI,CAACG,SAAT,EACEG,aAAa,CAACN,IAAI,CAACG,SAAN,CAAb;AACFH,IAAAA,IAAI,CAACG,SAAL,GAAiBC,WAAW,CAACJ,IAAI,CAACC,SAAN,EAAiBH,QAAjB,EAA2BE,IAAI,CAACE,KAAhC,CAA5B;AACD,GARD;;AAUA,OAAKK,KAAL,GAAa,YAAY;AACvB,QAAIP,IAAI,CAACG,SAAT,EAAoB;AAClBG,MAAAA,aAAa,CAACN,IAAI,CAACG,SAAN,CAAb;AACAH,MAAAA,IAAI,CAACG,SAAL,GAAiBK,SAAjB;AACD;AACF,GALD;;AAOA,OAAKC,OAAL,GAAe,YAAY;AACzB,QAAIT,IAAI,CAACG,SAAT,EAAoB;AAClBG,MAAAA,aAAa,CAACN,IAAI,CAACG,SAAN,CAAb;AACD;;AACDH,IAAAA,IAAI,CAACC,SAAL,GAAiBO,SAAjB;AACAR,IAAAA,IAAI,CAACG,SAAL,GAAiBK,SAAjB;AACAR,IAAAA,IAAI,CAACE,KAAL,GAAaM,SAAb;AACD,GAPD;AAQD;;AAED,SAASE,UAAT,GAAuB;AACrB,MAAI,OAAOC,SAAS,CAAC,CAAD,CAAhB,KAAwB,UAA5B,EACE,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AACF,MAAI,OAAOD,SAAS,CAAC,CAAD,CAAhB,KAAwB,QAA5B,EACE,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AAEF,MAAIb,IAAJ;;AAEA,MAAIY,SAAS,CAACE,MAAV,GAAmB,CAAvB,EAA0B;AACxBd,IAAAA,IAAI,GAAG,IAAIe,KAAJ,CAAUH,SAAS,CAACE,MAAV,GAAmB,CAA7B,CAAP;;AAEA,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,IAAI,CAACc,MAAzB,EAAiCE,CAAC,EAAlC,EAAsC;AACpChB,MAAAA,IAAI,CAACgB,CAAD,CAAJ,GAAUJ,SAAS,CAACI,CAAC,GAAG,CAAL,CAAnB;AACD;AACF;;AAED,SAAO,IAAInB,UAAJ,CAAee,SAAS,CAAC,CAAD,CAAxB,EAA6BA,SAAS,CAAC,CAAD,CAAtC,EAA2CZ,IAA3C,CAAP;AACD;;AAEDiB,MAAM,CAACC,OAAP,GAAiBP,UAAjB","sourcesContent":["'use strict'\n\nfunction ReInterval (callback, interval, args) {\n  var self = this;\n\n  this._callback = callback;\n  this._args = args;\n\n  this._interval = setInterval(callback, interval, this._args);\n\n  this.reschedule = function (interval) {\n    // if no interval entered, use the interval passed in on creation\n    if (!interval)\n      interval = self._interval;\n\n    if (self._interval)\n      clearInterval(self._interval);\n    self._interval = setInterval(self._callback, interval, self._args);\n  };\n\n  this.clear = function () {\n    if (self._interval) {\n      clearInterval(self._interval);\n      self._interval = undefined;\n    }\n  };\n  \n  this.destroy = function () {\n    if (self._interval) {\n      clearInterval(self._interval);\n    }\n    self._callback = undefined;\n    self._interval = undefined;\n    self._args = undefined;\n  };\n}\n\nfunction reInterval () {\n  if (typeof arguments[0] !== 'function')\n    throw new Error('callback needed');\n  if (typeof arguments[1] !== 'number')\n    throw new Error('interval needed');\n\n  var args;\n\n  if (arguments.length > 0) {\n    args = new Array(arguments.length - 2);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 2];\n    }\n  }\n\n  return new ReInterval(arguments[0], arguments[1], args);\n}\n\nmodule.exports = reInterval;\n"]},"metadata":{},"sourceType":"script"}