{"ast":null,"code":"var _jsxFileName = \"/home/one/NIN/nin_0.3.2/src/components/Hook/Publisher.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react'; // import React, { useContext } from 'react';\n\nimport { Card, Form, Input, Row, Col, Button, Slider } from 'antd'; // import { Card, Form, Input, Row, Col, Button, Select, Slider } from 'antd';\n// import { QosOption } from './index'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Publisher = ({\n  publish\n}) => {\n  _s();\n\n  const [form] = Form.useForm(); // const qosOptions = useContext(QosOption);\n\n  const removeElementsByClass = className => {\n    const elements = document.getElementsByClassName(className);\n\n    while (elements.length > 0) {\n      elements[0].parentNode.removeChild(elements[0]);\n    }\n  };\n\n  const modelLoad = value => {\n    // New panels are created with class 'panel_div', we need to remove this elements before create new ones\n    removeElementsByClass('jsPanel'); // In the Lua side, models must be created in a folder named as the model file and this folder must be placed inside the Resources folder\n\n    const fileName = value.target.files[0].name;\n    const dirName = fileName.split('.')[0];\n    console.log('Load:' + dirName + '/' + fileName);\n    publish({\n      topic: 'from_client',\n      qos: 0,\n      payload: 'Load|' + dirName + '/' + fileName\n    });\n  };\n\n  const modelSetup = () => {\n    publish({\n      topic: 'from_client',\n      qos: 0,\n      payload: 'Setup'\n    });\n    publish({\n      topic: 'from_server',\n      qos: 0,\n      payload: 'Setup'\n    });\n  };\n\n  const modelStep = () => {\n    publish({\n      topic: 'from_client',\n      qos: 0,\n      payload: 'Step'\n    });\n  };\n\n  const modelRun = () => {\n    publish({\n      topic: 'from_client',\n      qos: 0,\n      payload: 'Run'\n    });\n  };\n\n  const modelSpeed = value => {\n    publish({\n      topic: 'from_client',\n      qos: 0,\n      payload: 'Speed:' + value\n    });\n  };\n\n  const modelViewStats = () => {\n    publish({\n      topic: 'from_client',\n      qos: 0,\n      payload: 'ToggleView:Stats'\n    });\n  };\n\n  const modelViewWindows = () => {\n    publish({\n      topic: 'from_client',\n      qos: 0,\n      payload: 'ToggleView:Windows'\n    });\n  };\n\n  const modelViewFamilies = () => {\n    publish({\n      topic: 'from_client',\n      qos: 0,\n      payload: 'ToggleView:Families'\n    });\n  };\n\n  const modelViewGrid = () => {\n    publish({\n      topic: 'from_client',\n      qos: 0,\n      payload: 'ToggleView:Grid'\n    });\n  };\n\n  const PublishForm = /*#__PURE__*/_jsxDEV(Form, {\n    layout: \"vertical\",\n    name: \"basic\",\n    form: form,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      gutter: 20,\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 8,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"file\",\n          onChange: modelLoad\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 8,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: modelSetup,\n          children: \" Setup \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: modelStep,\n          children: \" Step \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: modelRun,\n          children: \"  Run  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Speed:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Slider, {\n          min: 1,\n          max: 10,\n          defaultValue: 10,\n          onChange: modelSpeed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 8,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: modelViewStats,\n          children: \"  view Stats \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: modelViewWindows,\n          children: \" view Windows \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: modelViewFamilies,\n          children: \"view Families \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: modelViewGrid,\n          children: \"  view Grid \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 2\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"Control Panel\",\n    children: PublishForm\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 2\n  }, this);\n};\n\n_s(Publisher, \"rI7DrJIrFu7YmlGWYiMFTzs8jF0=\", false, function () {\n  return [Form.useForm];\n});\n\n_c = Publisher;\nexport default Publisher;\n\nvar _c;\n\n$RefreshReg$(_c, \"Publisher\");","map":{"version":3,"sources":["/home/one/NIN/nin_0.3.2/src/components/Hook/Publisher.js"],"names":["React","Card","Form","Input","Row","Col","Button","Slider","Publisher","publish","form","useForm","removeElementsByClass","className","elements","document","getElementsByClassName","length","parentNode","removeChild","modelLoad","value","fileName","target","files","name","dirName","split","console","log","topic","qos","payload","modelSetup","modelStep","modelRun","modelSpeed","modelViewStats","modelViewWindows","modelViewFamilies","modelViewGrid","PublishForm"],"mappings":"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","sourcesContent":["import React from 'react';\n// import React, { useContext } from 'react';\nimport { Card, Form, Input, Row, Col, Button, Slider } from 'antd';\n// import { Card, Form, Input, Row, Col, Button, Select, Slider } from 'antd';\n// import { QosOption } from './index'\n\nconst Publisher = ({ publish }) => {\n\tconst [form] = Form.useForm();\n\t// const qosOptions = useContext(QosOption);\n\n\tconst removeElementsByClass = (className) => {\n\t\tconst elements = document.getElementsByClassName(className);\n\t\twhile(elements.length > 0){\n\t\t\telements[0].parentNode.removeChild(elements[0]);\n\t\t}\n\t}\n\n\tconst modelLoad = (value) => {\n\t\t// New panels are created with class 'panel_div', we need to remove this elements before create new ones\n\t\tremoveElementsByClass('jsPanel')\n\n\t\t// In the Lua side, models must be created in a folder named as the model file and this folder must be placed inside the Resources folder\n\t\tconst fileName = value.target.files[0].name\n\t\tconst dirName = fileName.split('.')[0]\n\n\t\tconsole.log('Load:' + dirName + '/' + fileName)\n\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Load|' + dirName + '/' + fileName\n\t\t})\n\t};\n\n\tconst modelSetup = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Setup'\n\t\t});\n\n\t\tpublish({\n\t\t\ttopic: 'from_server',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Setup'\n\t\t})\n\t};\n\n\tconst modelStep = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Step'\n\t\t})\n\t};\n\n\tconst modelRun = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Run'\n\t\t})\n\t};\n\n\tconst modelSpeed = (value) => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Speed:'+value\n\t\t})\n\t};\n\n\tconst modelViewStats = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'ToggleView:Stats'\n\t\t})\n\t};\n\n\tconst modelViewWindows = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'ToggleView:Windows'\n\t\t})\n\t};\n\n\tconst modelViewFamilies = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'ToggleView:Families'\n\t\t})\n\t};\n\n\tconst modelViewGrid = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'ToggleView:Grid'\n\t\t})\n\t};\n\n\tconst PublishForm = (\n\t<Form\n\t\tlayout=\"vertical\"\n\t\tname=\"basic\"\n\t\tform={form}\n\t>\n\t\t<Row gutter={20}>\n\t\t\t<Col span={8} >\n\t\t\t\t<Input type='file' onChange={modelLoad}/>\n\t\t\t</Col>\n\t\t\t<Col span={8} >\n\t\t\t\t{/* <Button onClick={modelLoad}>\tLoad\t</Button> */}\n\t\t\t\t<Button onClick={modelSetup}>\tSetup\t</Button>\n\t\t\t\t<Button onClick={modelStep}>\tStep\t</Button>\n\t\t\t\t<Button onClick={modelRun}>\t\tRun\t\t</Button>\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<label>Speed:</label>\n\t\t\t\t<Slider min={1} max={10} defaultValue={10} onChange={modelSpeed} />\n\t\t\t</Col>\n\t\t\t<Col span={8} >\n\t\t\t\t<Button onClick={modelViewStats}> \tview Stats </Button>\n\t\t\t\t<Button onClick={modelViewWindows}> view Windows </Button>\n\t\t\t\t<Button onClick={modelViewFamilies}>view Families </Button>\n\t\t\t\t<Button onClick={modelViewGrid}> \tview Grid </Button>\n\t\t\t</Col>\n\t\t</Row>\n\t</Form>\n\t)\n\n\treturn (\n\t<Card\n\t\ttitle=\"Control Panel\"\n\t>\n\t\t{PublishForm}\n\t</Card>\n\t);\n}\n\nexport default Publisher;\n"]},"metadata":{},"sourceType":"module"}