{"ast":null,"code":"import _slicedToArray from\"/home/one/NIN/nin_0.3.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{scaleOrdinal,scaleLinear}from'd3-scale';import{schemeCategory10}from'd3-scale-chromatic';import{line as d3Line,curveBasis}from'd3-shape';import{min,max}from'd3-array';import{axisBottom,axisLeft}from'd3-axis';import{select}from'd3-selection';import'./cssChart.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Chart=function Chart(props){var svgWidth=500;var svgHeight=300;var margin={top:20,right:80,bottom:30,left:50};var width=svgWidth-margin.left-margin.right;var height=svgHeight-margin.top-margin.bottom;var x=scaleLinear().range([0,width]);var y=scaleLinear().range([height,0]);var z=scaleOrdinal(schemeCategory10);var line=d3Line().curve(curveBasis).x(function(d){return x(d.time);}).y(function(d){return y(d.value);});var _useState=useState(props.data),_useState2=_slicedToArray(_useState,2),data=_useState2[0],updateData=_useState2[1];x.domain([min(data,function(c){return min(c.values,function(d){return d.time;});}),max(data,function(c){return max(c.values,function(d){return d.time;});})]);y.domain([min(data,function(c){return min(c.values,function(d){return d.value;});}),max(data,function(c){return max(c.values,function(d){return d.value;});})]);z.domain(data.map(function(c){return c.id;}));return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"svg\",{width:svgWidth,height:svgHeight,children:/*#__PURE__*/_jsxs(\"g\",{transform:\"translate(\".concat(margin.left,\", \").concat(margin.top,\")\"),children:[/*#__PURE__*/_jsx(\"g\",{className:\"axis axis--x\",transform:\"translate(0, \".concat(height,\")\"),ref:function ref(node){return select(node).call(axisBottom(x));}}),/*#__PURE__*/_jsx(\"g\",{className:\"axis axis--y\",ref:function ref(node){return select(node).call(axisLeft(y));},children:/*#__PURE__*/_jsx(\"text\",{transform:\"rotate(-90)\",y:\"6\",dy:\"0.71em\",fill:\"#000\",children:\"value\"})}),data.map(function(trackedVar){var _trackedVar$values$sl=trackedVar.values.slice(-1),_trackedVar$values$sl2=_slicedToArray(_trackedVar$values$sl,1),lastD=_trackedVar$values$sl2[0];return/*#__PURE__*/_jsxs(\"g\",{className:\"trackedVar\",children:[/*#__PURE__*/_jsx(\"path\",{className:\"line\",d:line(trackedVar.values),style:{stroke:z(trackedVar.id)}}),/*#__PURE__*/_jsx(\"text\",{transform:\"translate(\".concat(x(lastD.time),\", \").concat(y(lastD.value),\")\"),x:3,dy:\"0.35em\",style:{font:'10px sans-serif'},children:trackedVar.id})]},trackedVar.id);})]})})});};export default Chart;","map":{"version":3,"sources":["/home/one/NIN/nin_0.3.2/src/components/D3/Chart/Chart.js"],"names":["React","useState","scaleOrdinal","scaleLinear","schemeCategory10","line","d3Line","curveBasis","min","max","axisBottom","axisLeft","select","Chart","props","svgWidth","svgHeight","margin","top","right","bottom","left","width","height","x","range","y","z","curve","d","time","value","data","updateData","domain","c","values","map","id","node","call","trackedVar","slice","lastD","stroke","font"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { scaleOrdinal, scaleLinear } from 'd3-scale';\nimport { schemeCategory10 } from 'd3-scale-chromatic';\nimport { line as d3Line, curveBasis } from 'd3-shape';\nimport { min, max } from 'd3-array';\nimport { axisBottom, axisLeft } from 'd3-axis';\nimport { select } from 'd3-selection';\n\nimport './cssChart.css';\n\n\nconst Chart = (props) => {\n\n\tconst svgWidth \t= 500;\n\tconst svgHeight = 300;\n\n\tconst margin \t= { top: 20, right: 80, bottom: 30, left: 50 };\n\tconst width \t= svgWidth - margin.left - margin.right;\n\tconst height \t= svgHeight - margin.top - margin.bottom;\n\n\tconst x \t\t= scaleLinear().range([0, width]);\n\tconst y \t\t= scaleLinear().range([height, 0]);\n\tconst z \t\t= scaleOrdinal(schemeCategory10);\n\n\tconst line = d3Line()\n\t\t.curve(curveBasis)\n\t\t.x(d => x(d.time))\n\t\t.y(d => y(d.value));\n\n\tconst [data, updateData] = useState(props.data);\n\t\n\n\tx.domain([\n\t\tmin(data, c => min(c.values, d => d.time)),\n\t\tmax(data, c => max(c.values, d => d.time)),\n\t]);\n\ty.domain([\n\t\tmin(data, c => min(c.values, d => d.value)),\n\t\tmax(data, c => max(c.values, d => d.value)),\n\t]);\n\tz.domain(data.map(c => c.id));\n\n\n\treturn(\n\t\t<>\n\t\t\t<svg width={svgWidth} height={svgHeight}>\n\t\t\t\t<g transform={`translate(${margin.left}, ${margin.top})`}>\n\t\t\t\t\t<g\n\t\t\t\t\t\tclassName=\"axis axis--x\"\n\t\t\t\t\t\ttransform={`translate(0, ${height})`}\n\t\t\t\t\t\tref={node => select(node).call(axisBottom(x))}\n\t\t\t\t\t/>\n\t\t\t\t\t<g className=\"axis axis--y\" ref={node => select(node).call(axisLeft(y))}>\n\t\t\t\t\t\t<text transform=\"rotate(-90)\" y=\"6\" dy=\"0.71em\" fill=\"#000\">\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</g>\n\t\t\t\t\t{data.map(trackedVar => {\n\t\t\t\t\t\tconst [lastD] = trackedVar.values.slice(-1);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<g className=\"trackedVar\" key={trackedVar.id}>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tclassName=\"line\"\n\t\t\t\t\t\t\t\t\td={line(trackedVar.values)}\n\t\t\t\t\t\t\t\t\tstyle={{ stroke: z(trackedVar.id) }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\t\ttransform={`translate(${x(lastD.time)}, ${y(lastD.value)})`}\n\t\t\t\t\t\t\t\t\tx={3}\n\t\t\t\t\t\t\t\t\tdy=\"0.35em\"\n\t\t\t\t\t\t\t\t\tstyle={{ font: '10px sans-serif' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{trackedVar.id}\n\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t</>\n\t);\n};\n\nexport default Chart\n\n"]},"metadata":{},"sourceType":"module"}