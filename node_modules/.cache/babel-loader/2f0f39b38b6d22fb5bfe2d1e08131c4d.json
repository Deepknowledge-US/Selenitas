{"ast":null,"code":"var _jsxFileName = \"/home/one/NIN/nin_0.3.2/src/App.js\";\n// import React from 'react';\nimport React, { Component, lazy, Suspense } from 'react';\nimport Page from './components/Page/Page';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport 'antd/dist/antd.css';\nimport 'jspanel4/dist/jspanel.min.css'; // import 'jspanel4/es6module/extensions/modal/jspanel.modal';\n\nimport { jsPanel } from 'jspanel4/es6module/jspanel'; // import CreatePanel from './components/CreatePanel/CreatePanel'\n// const App = () => {\n// \treturn (\n// \t\t<div>\n// \t\t\t<Page />\n// \t\t</div>\n// \t);\n// }\n// export default App;\n// // Normal components\n// import Clock from './components/clock';\n\nimport ActionButton from './components/ActionButton';\nimport CreatePortal from './components/createPortal'; // jsPanel default options\n\nimport jsPanelOptions from './jsPanelOptions'; // lazy loaded components\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DisplayName = /*#__PURE__*/lazy(_c = () => import('./components/DisplayName'));\n_c2 = DisplayName;\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.createJsPanel = (action, comp, modal = false) => {\n      // keep Main component refrence\n      const app = this; // check if its already mounted, bring it to front\n\n      if (app.state.panels[action]) {\n        return app.state.panels[action]['panel'].front(() => {\n          app.state.panels[action]['panel'].resize({\n            height: 'auto'\n          });\n          app.state.panels[action]['panel'].reposition('center-top 0 20%');\n        });\n      }\n\n      const options = { ...jsPanelOptions,\n        headerTitle: action,\n        onclosed: () => {\n          // remove closed jsPanel and its mounted component from state\n          const appPanels = app.state.panels;\n\n          if (appPanels[action]) {\n            delete appPanels[action];\n            app.setState({\n              panels: { ...appPanels\n              }\n            });\n          }\n        }\n      }; // create jsPanel\n\n      const panel = modal ? jsPanel.modal.create(options) : jsPanel.create(options); // save panel and compponent (this will be mounted later inside panel body) reference inside state\n\n      app.setState({\n        panels: { ...app.state.panels,\n          [action]: {\n            panel,\n            comp\n          }\n        }\n      });\n    };\n\n    this.state = {\n      panels: {}\n    };\n  }\n\n  renderJsPanlesInsidePortal() {\n    const panels = this.state.panels;\n    return Object.keys(panels).map(action => {\n      const jsPanel = panels[action].panel;\n      const Comp = panels[action].comp;\n      const node = document.getElementById(`${jsPanel.id}-node`);\n      let counter = 0;\n      if (!Comp) return null;\n      return /*#__PURE__*/_jsxDEV(CreatePortal, {\n        rootNode: node,\n        children: Array.isArray(Comp) ? Comp.map(C => /*#__PURE__*/_jsxDEV(Suspense, {\n          fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-info\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 60\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(C, {\n            jsPanel: jsPanel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 7\n          }, this)\n        }, `${jsPanel.id}-${counter++}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 5\n        }, this)) : /*#__PURE__*/_jsxDEV(Suspense, {\n          fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-info\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 26\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Comp, {\n            jsPanel: jsPanel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 6\n        }, this)\n      }, jsPanel.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this);\n    });\n  }\n\n  render() {\n    const jsPanels = Object.keys(this.state.panels);\n    const actionButtonProps = {\n      className: 'btn btn-outline-primary ml-2 mb-2',\n      handleClick: this.createJsPanel\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row bg-dark text-white shadow p-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-center\",\n            children: \"jsPanel with react\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 4\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(ActionButton, { ...actionButtonProps,\n              title: \"Simple Example\",\n              comp: DisplayName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 4\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }, this), jsPanels.length > 0 && this.renderJsPanlesInsidePortal()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 3\n    }, this);\n  }\n\n}\n\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DisplayName$lazy\");\n$RefreshReg$(_c2, \"DisplayName\");","map":{"version":3,"sources":["/home/one/NIN/nin_0.3.2/src/App.js"],"names":["React","Component","lazy","Suspense","Page","jsPanel","ActionButton","CreatePortal","jsPanelOptions","DisplayName","App","constructor","createJsPanel","action","comp","modal","app","state","panels","front","resize","height","reposition","options","headerTitle","onclosed","appPanels","setState","panel","create","renderJsPanlesInsidePortal","Object","keys","map","Comp","node","document","getElementById","id","counter","Array","isArray","C","render","jsPanels","actionButtonProps","className","handleClick","length"],"mappings":";AACA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,IAA3B,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AAEA,OAAO,sCAAP;AACA,OAAO,WAAP;AACA,OAAO,oBAAP;AACA,OAAO,+BAAP,C,CACA;;AACA,SAASC,OAAT,QAAwB,4BAAxB,C,CAGA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,YAAP,MAAyB,2BAAzB,C,CAEA;;AACA,OAAOC,cAAP,MAA2B,kBAA3B,C,CAEA;;;AACA,MAAMC,WAAW,gBAAGP,IAAI,MAAC,MAAM,OAAO,0BAAP,CAAP,CAAxB;MAAMO,W;;AAGN,MAAMC,GAAN,SAAkBT,SAAlB,CAA4B;AAC3BU,EAAAA,WAAW,GAAG;AACZ;;AADY,SAOdC,aAPc,GAOE,CAACC,MAAD,EAASC,IAAT,EAAeC,KAAK,GAAG,KAAvB,KAAiC;AAC/C;AACA,YAAMC,GAAG,GAAG,IAAZ,CAF+C,CAG/C;;AACA,UAAIA,GAAG,CAACC,KAAJ,CAAUC,MAAV,CAAiBL,MAAjB,CAAJ,EAA8B;AAC/B,eAAOG,GAAG,CAACC,KAAJ,CAAUC,MAAV,CAAiBL,MAAjB,EAAyB,OAAzB,EAAkCM,KAAlC,CAAwC,MAAM;AACnDH,UAAAA,GAAG,CAACC,KAAJ,CAAUC,MAAV,CAAiBL,MAAjB,EAAyB,OAAzB,EAAkCO,MAAlC,CAAyC;AAC1CC,YAAAA,MAAM,EAAE;AADkC,WAAzC;AAGAL,UAAAA,GAAG,CAACC,KAAJ,CAAUC,MAAV,CAAiBL,MAAjB,EAAyB,OAAzB,EAAkCS,UAAlC,CAA6C,kBAA7C;AACD,SALM,CAAP;AAME;;AAED,YAAMC,OAAO,GAAG,EACjB,GAAGf,cADc;AAEjBgB,QAAAA,WAAW,EAAEX,MAFI;AAGjBY,QAAAA,QAAQ,EAAE,MAAM;AACd;AACA,gBAAMC,SAAS,GAAGV,GAAG,CAACC,KAAJ,CAAUC,MAA5B;;AACA,cAAIQ,SAAS,CAACb,MAAD,CAAb,EAAuB;AACxB,mBAAOa,SAAS,CAACb,MAAD,CAAhB;AACAG,YAAAA,GAAG,CAACW,QAAJ,CAAa;AAAET,cAAAA,MAAM,EAAE,EAAE,GAAGQ;AAAL;AAAV,aAAb;AACE;AACF;AAVgB,OAAhB,CAb+C,CAyB/C;;AACA,YAAME,KAAK,GAAGb,KAAK,GAAGV,OAAO,CAACU,KAAR,CAAcc,MAAd,CAAqBN,OAArB,CAAH,GAAmClB,OAAO,CAACwB,MAAR,CAAeN,OAAf,CAAtD,CA1B+C,CA2B/C;;AACAP,MAAAA,GAAG,CAACW,QAAJ,CAAa;AAAET,QAAAA,MAAM,EAAE,EAAE,GAAGF,GAAG,CAACC,KAAJ,CAAUC,MAAf;AAAuB,WAACL,MAAD,GAAU;AAAEe,YAAAA,KAAF;AAASd,YAAAA;AAAT;AAAjC;AAAV,OAAb;AACD,KApCa;;AAEZ,SAAKG,KAAL,GAAa;AACdC,MAAAA,MAAM,EAAE;AADM,KAAb;AAGD;;AAiCDY,EAAAA,0BAA0B,GAAG;AAC3B,UAAMZ,MAAM,GAAG,KAAKD,KAAL,CAAWC,MAA1B;AACA,WAAOa,MAAM,CAACC,IAAP,CAAYd,MAAZ,EAAoBe,GAApB,CAAwBpB,MAAM,IAAI;AAC1C,YAAMR,OAAO,GAAGa,MAAM,CAACL,MAAD,CAAN,CAAee,KAA/B;AACA,YAAMM,IAAI,GAAGhB,MAAM,CAACL,MAAD,CAAN,CAAeC,IAA5B;AACA,YAAMqB,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAyB,GAAEhC,OAAO,CAACiC,EAAG,OAAtC,CAAb;AACA,UAAIC,OAAO,GAAG,CAAd;AACA,UAAI,CAACL,IAAL,EAAW,OAAO,IAAP;AACX,0BACE,QAAC,YAAD;AAAc,QAAA,QAAQ,EAAEC,IAAxB;AAAA,kBACAK,KAAK,CAACC,OAAN,CAAcP,IAAd,IACCA,IAAI,CAACD,GAAL,CAASS,CAAC,iBACX,QAAC,QAAD;AAA6C,UAAA,QAAQ,eAAE;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAvD;AAAA,iCACE,QAAC,CAAD;AAAG,YAAA,OAAO,EAAErC;AAAZ;AAAA;AAAA;AAAA;AAAA;AADF,WAAgB,GAAEA,OAAO,CAACiC,EAAG,IAAGC,OAAO,EAAG,EAA1C;AAAA;AAAA;AAAA;AAAA,gBADC,CADD,gBAOC,QAAC,QAAD;AAAU,UAAA,QAAQ,eAAE;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAApB;AAAA,iCACD,QAAC,IAAD;AAAM,YAAA,OAAO,EAAElC;AAAf;AAAA;AAAA;AAAA;AAAA;AADC;AAAA;AAAA;AAAA;AAAA;AARD,SAAmCA,OAAO,CAACiC,EAA3C;AAAA;AAAA;AAAA;AAAA,cADF;AAeE,KArBM,CAAP;AAsBD;;AAEDK,EAAAA,MAAM,GAAG;AACP,UAAMC,QAAQ,GAAGb,MAAM,CAACC,IAAP,CAAY,KAAKf,KAAL,CAAWC,MAAvB,CAAjB;AACA,UAAM2B,iBAAiB,GAAG;AAC3BC,MAAAA,SAAS,EAAE,mCADgB;AAE3BC,MAAAA,WAAW,EAAE,KAAKnC;AAFS,KAA1B;AAIA,wBACD;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,mCAAf;AAAA,+BACD;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,iCACE;AAAI,YAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADC;AAAA;AAAA;AAAA;AAAA,cADF,eAME;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAA,+BACD;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,mCACD,QAAC,YAAD,OAAkBiC,iBAAlB;AAAqC,cAAA,KAAK,EAAC,gBAA3C;AAA4D,cAAA,IAAI,EAAEpC;AAAlE;AAAA;AAAA;AAAA;AAAA;AADC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADC;AAAA;AAAA;AAAA;AAAA,cANF,EAaGmC,QAAQ,CAACI,MAAT,GAAkB,CAAlB,IAAuB,KAAKlB,0BAAL,EAb1B;AAAA;AAAA;AAAA;AAAA;AAAA,YADC;AAiBD;;AAxF0B;;AA6F5B,eAAepB,GAAf","sourcesContent":["\n// import React from 'react';\nimport React, { Component, lazy, Suspense } from 'react';\nimport Page from './components/Page/Page'\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport 'antd/dist/antd.css';\nimport 'jspanel4/dist/jspanel.min.css';\n// import 'jspanel4/es6module/extensions/modal/jspanel.modal';\nimport { jsPanel } from 'jspanel4/es6module/jspanel';\n\n\n// import CreatePanel from './components/CreatePanel/CreatePanel'\n\n\n// const App = () => {\n// \treturn (\n// \t\t<div>\n// \t\t\t<Page />\n// \t\t</div>\n// \t);\n// }\n\n// export default App;\n\n\n\n// // Normal components\n// import Clock from './components/clock';\nimport ActionButton from './components/ActionButton';\nimport CreatePortal from './components/createPortal';\n\n// jsPanel default options\nimport jsPanelOptions from './jsPanelOptions';\n\n// lazy loaded components\nconst DisplayName = lazy(() => import('./components/DisplayName'));\n\n\nclass App extends Component {\n\tconstructor() {\n\t  super();\n\t  this.state = {\n\t\tpanels: {}\n\t  };\n\t}\n  \n\tcreateJsPanel = (action, comp, modal = false) => {\n\t  // keep Main component refrence\n\t  const app = this;\n\t  // check if its already mounted, bring it to front\n\t  if (app.state.panels[action]) {\n\t\treturn app.state.panels[action]['panel'].front(() => {\n\t\t  app.state.panels[action]['panel'].resize({\n\t\t\theight: 'auto'\n\t\t  });\n\t\t  app.state.panels[action]['panel'].reposition('center-top 0 20%');\n\t\t});\n\t  }\n  \n\t  const options = {\n\t\t...jsPanelOptions,\n\t\theaderTitle: action,\n\t\tonclosed: () => {\n\t\t  // remove closed jsPanel and its mounted component from state\n\t\t  const appPanels = app.state.panels;\n\t\t  if (appPanels[action]) {\n\t\t\tdelete appPanels[action];\n\t\t\tapp.setState({ panels: { ...appPanels } });\n\t\t  }\n\t\t}\n\t  };\n\t  // create jsPanel\n\t  const panel = modal ? jsPanel.modal.create(options) : jsPanel.create(options);\n\t  // save panel and compponent (this will be mounted later inside panel body) reference inside state\n\t  app.setState({ panels: { ...app.state.panels, [action]: { panel, comp } } });\n\t};\n  \n\trenderJsPanlesInsidePortal() {\n\t  const panels = this.state.panels;\n\t  return Object.keys(panels).map(action => {\n\t\tconst jsPanel = panels[action].panel;\n\t\tconst Comp = panels[action].comp;\n\t\tconst node = document.getElementById(`${jsPanel.id}-node`);\n\t\tlet counter = 0;\n\t\tif (!Comp) return null;\n\t\treturn (\n\t\t  <CreatePortal rootNode={node} key={jsPanel.id}>\n\t\t\t{Array.isArray(Comp) ? (\n\t\t\t  Comp.map(C => (\n\t\t\t\t<Suspense key={`${jsPanel.id}-${counter++}`} fallback={<div className=\"alert alert-info\">Loading...</div>}>\n\t\t\t\t  <C jsPanel={jsPanel} />\n\t\t\t\t</Suspense>\n\t\t\t  ))\n\t\t\t) : (\n\t\t\t  <Suspense fallback={<div className=\"alert alert-info\">Loading...</div>}>\n\t\t\t\t<Comp jsPanel={jsPanel} />\n\t\t\t  </Suspense>\n\t\t\t)}\n\t\t  </CreatePortal>\n\t\t);\n\t  });\n\t}\n  \n\trender() {\n\t  const jsPanels = Object.keys(this.state.panels);\n\t  const actionButtonProps = {\n\t\tclassName: 'btn btn-outline-primary ml-2 mb-2',\n\t\thandleClick: this.createJsPanel\n\t  };\n\t  return (\n\t\t<div className=\"container-fluid\">\n\t\t  <div className=\"row bg-dark text-white shadow p-2\">\n\t\t\t<div className=\"col-md-12\">\n\t\t\t  <h4 className=\"text-center\">jsPanel with react</h4>\n\t\t\t</div>\n\t\t  </div>\n\t\t  <div className=\"row justify-content-center mt-4\">\n\t\t\t<div className=\"card\">\n\t\t\t  <div className=\"card-body\">\n\t\t\t\t<ActionButton {...actionButtonProps} title=\"Simple Example\" comp={DisplayName} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t  </div>\n\t\t  {jsPanels.length > 0 && this.renderJsPanlesInsidePortal()}\n\t\t</div>\n\t  );\n\t}\n  }\n\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}