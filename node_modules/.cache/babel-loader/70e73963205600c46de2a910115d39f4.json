{"ast":null,"code":"var _jsxFileName = \"/home/one/NIN/nin_0.3.2/src/components/Todo/TodoApp.js\";\nimport React, { Component } from 'react';\nimport ls from '../../services/lshelper';\nimport TodoListItem from './TodoListItem';\nimport TodoForm from './TodoForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TodoApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: []\n    };\n    this.loadTodos = this.loadTodos.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.updateTodo = this.updateTodo.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadTodos();\n  }\n\n  loadTodos() {\n    this.setState({\n      data: ls.getTodos()\n    });\n  }\n\n  handleFormSubmit(d) {\n    let r = ls.saveTodo(d);\n\n    if (r.saved) {\n      this.loadTodos();\n    } else {\n      console.error('Error: ' + r.err.message);\n    }\n  }\n\n  updateTodo(id, du, name = '') {\n    let x = false,\n        d = this.state.data;\n    d.forEach((val, index) => {\n      val.id === id && (x = index);\n      val.id === id && du && (!name ? val.done = 'true' : val.text = name);\n    });\n    du && (this.setState({\n      data: d\n    }), ls.saveTodo(d, true)); // eslint-disable-line no-unused-expressions\n\n    x >= 0 && !du && d.splice(x, 1) && (this.setState({\n      data: d\n    }), ls.saveTodo(d, true)); // eslint-disable-line no-unused-expressions\n  }\n\n  render() {\n    if (!ls.localStorageExists) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: \"Your browser do not support Local Storage. Please use any modern browser.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 14\n      }, this);\n    }\n\n    const todoList = this.state.data.map((t, i) => {\n      return /*#__PURE__*/_jsxDEV(TodoListItem, {\n        data: t,\n        clickHandler: this.updateTodo,\n        hash: i + 1\n      }, t.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 14\n      }, this);\n    });\n    const noItems = !this.state.data.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: \"Your task list is empty.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 47\n    }, this) : null;\n\n    const taskDone = (() => {\n      let d = this.state.data.filter(o => o.done === 'true');\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"btn btn-success float-right\",\n        children: ['Done ', /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-light\",\n          children: d.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this);\n    })();\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [this.state.data.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"btn btn-info\",\n            children: ['Total ', /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge badge-light\",\n              children: [\" \", this.state.data.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), taskDone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [noItems, /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group\",\n          children: todoList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/_jsxDEV(TodoForm, {\n          formsubmit: this.handleFormSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default TodoApp;","map":{"version":3,"sources":["/home/one/NIN/nin_0.3.2/src/components/Todo/TodoApp.js"],"names":["React","Component","ls","TodoListItem","TodoForm","TodoApp","constructor","props","state","data","loadTodos","bind","handleFormSubmit","updateTodo","componentDidMount","setState","getTodos","d","r","saveTodo","saved","console","error","err","message","id","du","name","x","forEach","val","index","done","text","splice","render","localStorageExists","todoList","map","t","i","noItems","length","taskDone","filter","o"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ls from '../../services/lshelper';\nimport TodoListItem from './TodoListItem';\nimport TodoForm from './TodoForm';\n\nclass TodoApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { data: [] };\n    this.loadTodos = this.loadTodos.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.updateTodo = this.updateTodo.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadTodos();\n  }\n\n  loadTodos() {\n    this.setState({ data: ls.getTodos() });\n  }\n\n  handleFormSubmit(d) {\n    let r = ls.saveTodo(d);\n    if (r.saved) {\n      this.loadTodos();\n    } else {\n      console.error('Error: ' + r.err.message);\n    }\n  }\n\n  updateTodo(id, du, name = '') {\n    let x = false,\n      d = this.state.data;\n    d.forEach((val, index) => {\n      val.id === id && (x = index);\n      val.id === id && du && (!name ? (val.done = 'true') : (val.text = name));\n    });\n    du && (this.setState({ data: d }), ls.saveTodo(d, true)); // eslint-disable-line no-unused-expressions\n    x >= 0 && !du && d.splice(x, 1) && (this.setState({ data: d }), ls.saveTodo(d, true)); // eslint-disable-line no-unused-expressions\n  }\n\n  render() {\n    if (!ls.localStorageExists) {\n      return <div className=\"alert alert-danger\">Your browser do not support Local Storage. Please use any modern browser.</div>;\n    }\n    const todoList = this.state.data.map((t, i) => {\n      return <TodoListItem data={t} clickHandler={this.updateTodo} key={t.id} hash={i + 1} />;\n    });\n    const noItems = !this.state.data.length ? <div className=\"alert alert-danger\">Your task list is empty.</div> : null;\n    const taskDone = (() => {\n      let d = this.state.data.filter(o => o.done === 'true');\n      return (\n        <span className=\"btn btn-success float-right\">\n          {'Done '}\n          <span className=\"badge badge-light\">{d.length}</span>\n        </span>\n      );\n    })();\n    return (\n      <div className=\"card\">\n        {this.state.data.length ? (\n          <div className=\"card-header\">\n            <h5 className=\"card-title\">\n              <span className=\"btn btn-info\">\n                {'Total '}\n                <span className=\"badge badge-light\"> {this.state.data.length}</span>\n              </span>\n              {taskDone}\n            </h5>\n          </div>\n        ) : null}\n        <div className=\"card-body\">\n          {noItems}\n          <ul className=\"list-group\">{todoList}</ul>\n        </div>\n        <div className=\"card-footer\">\n          <TodoForm formsubmit={this.handleFormSubmit} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TodoApp;\n"]},"metadata":{},"sourceType":"module"}