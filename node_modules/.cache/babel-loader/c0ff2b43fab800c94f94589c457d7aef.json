{"ast":null,"code":"module.exports = shift;\n\nfunction shift(stream) {\n  var rs = stream._readableState;\n  if (!rs) return null;\n  return rs.objectMode || typeof stream._duplexState === 'number' ? stream.read() : stream.read(getStateLength(rs));\n}\n\nfunction getStateLength(state) {\n  if (state.buffer.length) {\n    // Since node 6.3.0 state.buffer is a BufferList not an array\n    if (state.buffer.head) {\n      return state.buffer.head.data.length;\n    }\n\n    return state.buffer[0].length;\n  }\n\n  return state.length;\n}","map":{"version":3,"sources":["/home/one/node_modules/stream-shift/index.js"],"names":["module","exports","shift","stream","rs","_readableState","objectMode","_duplexState","read","getStateLength","state","buffer","length","head","data"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,KAAjB;;AAEA,SAASA,KAAT,CAAgBC,MAAhB,EAAwB;AACtB,MAAIC,EAAE,GAAGD,MAAM,CAACE,cAAhB;AACA,MAAI,CAACD,EAAL,EAAS,OAAO,IAAP;AACT,SAAQA,EAAE,CAACE,UAAH,IAAiB,OAAOH,MAAM,CAACI,YAAd,KAA+B,QAAjD,GAA6DJ,MAAM,CAACK,IAAP,EAA7D,GAA6EL,MAAM,CAACK,IAAP,CAAYC,cAAc,CAACL,EAAD,CAA1B,CAApF;AACD;;AAED,SAASK,cAAT,CAAyBC,KAAzB,EAAgC;AAC9B,MAAIA,KAAK,CAACC,MAAN,CAAaC,MAAjB,EAAyB;AACvB;AACA,QAAIF,KAAK,CAACC,MAAN,CAAaE,IAAjB,EAAuB;AACrB,aAAOH,KAAK,CAACC,MAAN,CAAaE,IAAb,CAAkBC,IAAlB,CAAuBF,MAA9B;AACD;;AAED,WAAOF,KAAK,CAACC,MAAN,CAAa,CAAb,EAAgBC,MAAvB;AACD;;AAED,SAAOF,KAAK,CAACE,MAAb;AACD","sourcesContent":["module.exports = shift\n\nfunction shift (stream) {\n  var rs = stream._readableState\n  if (!rs) return null\n  return (rs.objectMode || typeof stream._duplexState === 'number') ? stream.read() : stream.read(getStateLength(rs))\n}\n\nfunction getStateLength (state) {\n  if (state.buffer.length) {\n    // Since node 6.3.0 state.buffer is a BufferList not an array\n    if (state.buffer.head) {\n      return state.buffer.head.data.length\n    }\n\n    return state.buffer[0].length\n  }\n\n  return state.length\n}\n"]},"metadata":{},"sourceType":"script"}