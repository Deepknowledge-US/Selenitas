{"ast":null,"code":"import _slicedToArray from\"/home/one/NIN/nin_0.3.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext}from'react';import{Card,Form,Input,Row,Col,Button,Slider}from'antd';import{NewContext}from'./index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Publisher=function Publisher(_ref){var publish=_ref.publish;var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useContext=useContext(NewContext),state=_useContext.state,dispatch=_useContext.dispatch;var removeElementsByClass=function removeElementsByClass(className){var elements=document.getElementsByClassName(className);while(elements.length>0){elements[0].parentNode.removeChild(elements[0]);}};var modelLoad=function modelLoad(value){// New panels are created with class 'panel_div', we need to remove this elements before create new ones\nremoveElementsByClass('jsPanel');// In the Lua side, models must be created in a folder named as the model file and this folder must be placed inside the Resources folder\nvar fileName=value.target.files[0].name;var dirName=fileName.split('.')[0];// At the moment, the separator is \"|\"\npublish({topic:'from_client',qos:0,payload:'Load|'+dirName+'/'+fileName});};var modelSetup=function modelSetup(){dispatch({type:'setup'});publish({topic:'from_client',qos:0,payload:'Setup'});};var modelStep=function modelStep(){publish({topic:'from_client',qos:0,payload:'Step'});};var modelRun=function modelRun(){publish({topic:'from_client',qos:0,payload:'Run'});};var modelSpeed=function modelSpeed(value){publish({topic:'from_client',qos:0,payload:'Speed:'+value});};var modelViewStats=function modelViewStats(){publish({topic:'from_client',qos:0,payload:'ToggleView:Stats'});};var modelViewWindows=function modelViewWindows(){publish({topic:'from_client',qos:0,payload:'ToggleView:Windows'});};var modelViewFamilies=function modelViewFamilies(){publish({topic:'from_client',qos:0,payload:'ToggleView:Families'});};var modelViewGrid=function modelViewGrid(){publish({topic:'from_client',qos:0,payload:'ToggleView:Grid'});};var PublishForm=/*#__PURE__*/_jsx(Form,{layout:\"vertical\",name:\"basic\",form:form,children:/*#__PURE__*/_jsxs(Row,{gutter:20,children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Input,{type:\"file\",onChange:modelLoad})}),/*#__PURE__*/_jsxs(Col,{span:8,children:[/*#__PURE__*/_jsx(Button,{onClick:modelSetup,children:\" Setup \"}),/*#__PURE__*/_jsx(Button,{onClick:modelStep,children:\" Step \"}),/*#__PURE__*/_jsx(Button,{onClick:modelRun,children:\"  Run  \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Speed:\"}),/*#__PURE__*/_jsx(Slider,{min:1,max:10,defaultValue:10,onChange:modelSpeed})]}),/*#__PURE__*/_jsxs(Col,{span:8,children:[/*#__PURE__*/_jsx(Button,{onClick:modelViewStats,children:\"   view Stats  \"}),/*#__PURE__*/_jsx(Button,{onClick:modelViewWindows,children:\"  view Windows  \"}),/*#__PURE__*/_jsx(Button,{onClick:modelViewFamilies,children:\" view Families  \"}),/*#__PURE__*/_jsx(Button,{onClick:modelViewGrid,children:\"   view Grid   \"})]})]})});return/*#__PURE__*/_jsx(Card,{title:\"Control Panel\",children:PublishForm});};export default Publisher;","map":{"version":3,"sources":["/home/one/NIN/nin_0.3.2/src/components/Hook/Publisher.js"],"names":["React","useContext","Card","Form","Input","Row","Col","Button","Slider","NewContext","Publisher","publish","useForm","form","state","dispatch","removeElementsByClass","className","elements","document","getElementsByClassName","length","parentNode","removeChild","modelLoad","value","fileName","target","files","name","dirName","split","topic","qos","payload","modelSetup","type","modelStep","modelRun","modelSpeed","modelViewStats","modelViewWindows","modelViewFamilies","modelViewGrid","PublishForm"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport { Card, Form, Input, Row, Col, Button, Slider } from 'antd';\nimport { NewContext } from './index'\n\nconst Publisher = ({ publish }) => {\n\tconst [form] = Form.useForm();\n\tconst {state, dispatch} = useContext(NewContext);\n\n\tconst removeElementsByClass = (className) => {\n\t\tconst elements = document.getElementsByClassName(className);\n\t\twhile(elements.length > 0){\n\t\t\telements[0].parentNode.removeChild(elements[0]);\n\t\t}\n\t}\n\n\tconst modelLoad = (value) => {\n\t\t// New panels are created with class 'panel_div', we need to remove this elements before create new ones\n\t\tremoveElementsByClass('jsPanel')\n\n\t\t// In the Lua side, models must be created in a folder named as the model file and this folder must be placed inside the Resources folder\n\t\tconst fileName \t= value.target.files[0].name\n\t\tconst dirName \t= fileName.split('.')[0]\n\n\t\t// At the moment, the separator is \"|\"\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Load|' + dirName + '/' + fileName\n\t\t})\n\t};\n\n\tconst modelSetup = () => {\n\t\tdispatch({type: 'setup'});\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Setup'\n\t\t});\n\t};\n\n\tconst modelStep = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Step'\n\t\t})\n\t};\n\n\tconst modelRun = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Run'\n\t\t})\n\t};\n\n\tconst modelSpeed = (value) => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'Speed:'+ value\n\t\t})\n\t};\n\n\tconst modelViewStats = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'ToggleView:Stats'\n\t\t})\n\t};\n\n\tconst modelViewWindows = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'ToggleView:Windows'\n\t\t})\n\t};\n\n\tconst modelViewFamilies = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'ToggleView:Families'\n\t\t})\n\t};\n\n\tconst modelViewGrid = () => {\n\t\tpublish({\n\t\t\ttopic: 'from_client',\n\t\t\tqos: 0,\n\t\t\tpayload: 'ToggleView:Grid'\n\t\t})\n\t};\n\n\tconst PublishForm = (\n\t\t<Form layout=\"vertical\"\tname=\"basic\" form={form} >\n\t\t\t<Row gutter={20}>\n\t\t\t\t<Col span={8} >\n\t\t\t\t\t<Input type='file' onChange={modelLoad}/>\n\t\t\t\t</Col>\n\t\t\t\t<Col span={8} >\n\t\t\t\t\t{/* <Button onClick={modelLoad}>\tLoad\t</Button> */}\n\t\t\t\t\t<Button onClick={modelSetup}>\tSetup\t</Button>\n\t\t\t\t\t<Button onClick={modelStep}>\tStep\t</Button>\n\t\t\t\t\t<Button onClick={modelRun}>\t\tRun\t\t</Button>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label>Speed:</label>\n\t\t\t\t\t<Slider min={1} max={10} defaultValue={10} onChange={modelSpeed} />\n\t\t\t\t</Col>\n\t\t\t\t<Col span={8} >\n\t\t\t\t\t<Button onClick={modelViewStats}> \t view Stats\t\t</Button>\n\t\t\t\t\t<Button onClick={modelViewWindows}>  view Windows \t</Button>\n\t\t\t\t\t<Button onClick={modelViewFamilies}> view Families \t</Button>\n\t\t\t\t\t<Button onClick={modelViewGrid}> \t view Grid \t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Form>\n\t)\n\n\treturn (\n\t\t<Card title=\"Control Panel\" >\n\t\t\t{PublishForm}\n\t\t</Card>\n\t);\n}\n\nexport default Publisher;\n"]},"metadata":{},"sourceType":"module"}