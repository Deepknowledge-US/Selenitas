{"ast":null,"code":"import _slicedToArray from\"/home/one/NIN/nin_0.3.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Card,Button,Form,Input,Row,Col}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Connection=function Connection(_ref){var connect=_ref.connect,disconnect=_ref.disconnect,connectBtn=_ref.connectBtn;var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var record={host:'127.0.0.1',clientId:\"mqttjs_ + \".concat(Math.random().toString(16).substr(2,8)),port:8083,topic:'from_client/#'};var onFinish=function onFinish(values){var host=values.host,port=values.port;// const qos = 0;\nvar url=\"ws://\".concat(host,\":\").concat(port,\"/mqtt\");var options={keepalive:30,protocolId:'MQTT',protocolVersion:4,clean:true,reconnectPeriod:1000,connectTimeout:30*1000,will:{topic:'WillMsg',payload:'Connection Closed abnormally..!',qos:0,retain:false},rejectUnauthorized:false};options.clientId=record.clientId;connect(url,options);};var handleConnect=function handleConnect(){form.submit();};var handleDisconnect=function handleDisconnect(){disconnect();};var ConnectionForm=/*#__PURE__*/_jsxs(Form,{layout:\"vertical\",name:\"basic\",form:form,initialValues:record,onFinish:onFinish,children:[/*#__PURE__*/_jsxs(Row,{gutter:20,children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Host\",name:\"host\",children:/*#__PURE__*/_jsx(Input,{})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Port\",name:\"port\",children:/*#__PURE__*/_jsx(Input,{})})})]}),/*#__PURE__*/_jsx(Row,{gutter:20,children:/*#__PURE__*/_jsxs(Col,{span:8,children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:handleConnect,children:connectBtn}),/*#__PURE__*/_jsx(Button,{danger:true,onClick:handleDisconnect,children:\"Disconnect\"})]})})]});return/*#__PURE__*/_jsx(Card,{title:\"Connection\",children:ConnectionForm});};export default Connection;","map":{"version":3,"sources":["/home/one/NIN/nin_0.3.2/src/components/Hook/Connection.js"],"names":["React","Card","Button","Form","Input","Row","Col","Connection","connect","disconnect","connectBtn","useForm","form","record","host","clientId","Math","random","toString","substr","port","topic","onFinish","values","url","options","keepalive","protocolId","protocolVersion","clean","reconnectPeriod","connectTimeout","will","payload","qos","retain","rejectUnauthorized","handleConnect","submit","handleDisconnect","ConnectionForm"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Card, Button, Form, Input, Row, Col } from 'antd';\n\nconst Connection = ({ connect, disconnect, connectBtn }) => {\n\tconst [form] = Form.useForm();\n\tconst record = {\n\t\thost: '127.0.0.1',\n\t\tclientId: `mqttjs_ + ${Math.random().toString(16).substr(2, 8)}`,\n\t\tport: 8083,\n\t\ttopic: 'from_client/#'\n\t};\n\tconst onFinish = (values) => {\n\t\tconst { host, port } = values;\n\t\t// const qos = 0;\n\t\tconst url = `ws://${host}:${port}/mqtt`;\n\t\tconst options = {\n\t\t\tkeepalive: 30,\n\t\t\tprotocolId: 'MQTT',\n\t\t\tprotocolVersion: 4,\n\t\t\tclean: true,\n\t\t\treconnectPeriod: 1000,\n\t\t\tconnectTimeout: 30 * 1000,\n\t\t\twill: {\n\t\t\t\ttopic: 'WillMsg',\n\t\t\t\tpayload: 'Connection Closed abnormally..!',\n\t\t\t\tqos: 0,\n\t\t\t\tretain: false\n\t\t\t},\n\t\t\trejectUnauthorized: false\n\t\t};\n\t\toptions.clientId = record.clientId;\n\t\t\n\t\tconnect(url, options);\n\t};\n\n\tconst handleConnect = () => {\n\t\tform.submit();\n\t};\n\n\tconst handleDisconnect = () => {\n\t\tdisconnect();\n\t};\n\n\tconst ConnectionForm = (\n\t\t<Form\n\t\t\tlayout=\"vertical\"\n\t\t\tname=\"basic\"\n\t\t\tform={form}\n\t\t\tinitialValues={record}\n\t\t\tonFinish={onFinish}\n\t\t>\n\t\t\t<Row gutter={20}>\n\t\t\t\t<Col span={8}>\n\t\t\t\t\t<Form.Item\n\t\t\t\t\t\tlabel=\"Host\"\n\t\t\t\t\t\tname=\"host\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Input />\n\t\t\t\t\t</Form.Item>\n\t\t\t\t</Col>\n\t\t\t\t<Col span={8}>\n\t\t\t\t\t<Form.Item\n\t\t\t\t\t\tlabel=\"Port\"\n\t\t\t\t\t\tname=\"port\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Input />\n\t\t\t\t\t</Form.Item>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row gutter={20}>\n\t\t\t\t<Col span={8}>\t\t\t\t\n\t\t\t\t\t<Button type=\"primary\" onClick={handleConnect}>{connectBtn}</Button>\n\t\t\t\t\t<Button danger onClick={handleDisconnect}>Disconnect</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Form>\n\t)\n\n\treturn (\n\t\t<Card title=\"Connection\" >\n\t\t\t{ConnectionForm}\n\t\t</Card>\n\t);\n}\n\nexport default Connection;\n"]},"metadata":{},"sourceType":"module"}