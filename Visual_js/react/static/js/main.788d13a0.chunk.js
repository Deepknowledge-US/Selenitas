(this.webpackJsonpnin_0=this.webpackJsonpnin_0||[]).push([[0],{177:function(e,t,n){},179:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){},261:function(e,t){},263:function(e,t){},297:function(e,t){},298:function(e,t){},301:function(e,t){},303:function(e,t){},312:function(e,t,n){},313:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(29),a=n.n(i),o=n(331),r=(n(177),n(6));var s=function(e){return Object(r.jsxs)("div",{id:"header",className:"site-layout-background",children:[Object(r.jsx)("div",{id:"logo-div"}),Object(r.jsx)("h3",{children:"nin - Deepknowledge Group"})]})},l=(n(179),n(23)),u=n(334),j=n(73),d=n(43),b=n(338),f=n(170),O=n(336),h=function(e){var t=e.connect,n=e.disconnect,c=e.connectBtn,i=u.a.useForm(),a=Object(l.a)(i,1)[0],o={host:"127.0.0.1",clientId:"mqttjs_ + ".concat(Math.random().toString(16).substr(2,8)),port:8083,topic:"from_client/#"},s=Object(r.jsxs)(u.a,{layout:"vertical",name:"basic",form:a,initialValues:o,onFinish:function(e){var n=e.host,c=e.port,i="ws://".concat(n,":").concat(c,"/mqtt"),a={keepalive:30,protocolId:"MQTT",protocolVersion:4,clean:!0,reconnectPeriod:1e3,connectTimeout:3e4,will:{topic:"WillMsg",payload:"Connection Closed abnormally..!",qos:0,retain:!1},rejectUnauthorized:!1};a.clientId=o.clientId,t(i,a)},children:[Object(r.jsxs)(j.a,{gutter:20,children:[Object(r.jsx)(d.a,{span:8,children:Object(r.jsx)(u.a.Item,{label:"Host",name:"host",children:Object(r.jsx)(b.a,{})})}),Object(r.jsx)(d.a,{span:8,children:Object(r.jsx)(u.a.Item,{label:"Port",name:"port",children:Object(r.jsx)(b.a,{})})})]}),Object(r.jsx)(j.a,{gutter:20,children:Object(r.jsxs)(d.a,{span:8,children:[Object(r.jsx)(f.a,{type:"primary",onClick:function(){a.submit()},children:c}),Object(r.jsx)(f.a,{danger:!0,onClick:function(){n()},children:"Disconnect"})]})})]});return Object(r.jsx)(O.a,{title:"Connection",children:s})},p=n(337),m=function(e,t){!function(e){for(var t=document.getElementsByClassName(e);t.length>0;)t[0].parentNode.removeChild(t[0])}("jsPanel");var n=e.target.files[0].name;t({topic:"from_client",qos:0,payload:"Load|"+n.split(".")[0]+"/"+n})},x=function(e){var t=e.publish,n=u.a.useForm(),i=Object(l.a)(n,1)[0],a=Object(c.useContext)(D),o=(a.state,a.dispatch),s=Object(r.jsx)(u.a,{layout:"vertical",name:"basic",form:i,children:Object(r.jsxs)(j.a,{gutter:20,children:[Object(r.jsx)(d.a,{span:8,children:Object(r.jsx)(b.a,{type:"file",onChange:function(e){return m(e,t)}})}),Object(r.jsxs)(d.a,{span:8,children:[Object(r.jsx)(f.a,{onClick:function(){return function(e,t){t({type:"setup"}),e({topic:"from_client",qos:0,payload:"Setup"})}(t,o)},children:" Setup "}),Object(r.jsx)(f.a,{onClick:function(){return function(e){e({topic:"from_client",qos:0,payload:"Step"})}(t)},children:"    Step "}),Object(r.jsx)(f.a,{onClick:function(){return function(e){e({topic:"from_client",qos:0,payload:"Run"})}(t)},children:"    Run  "}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{children:"Speed:"}),Object(r.jsx)(p.a,{min:1,max:10,defaultValue:10,onChange:function(e){return function(e,t){t({topic:"from_client",qos:0,payload:"Speed:"+e})}(e,t)}})]}),Object(r.jsxs)(d.a,{span:8,children:[Object(r.jsx)(f.a,{onClick:function(){return function(e){e({topic:"from_client",qos:0,payload:"ToggleView:Stats"})}(t)},children:"    view Stats "}),Object(r.jsx)(f.a,{onClick:function(){return function(e){e({topic:"from_client",qos:0,payload:"ToggleView:Windows"})}(t)},children:"  view Windows  "}),Object(r.jsx)(f.a,{onClick:function(){return function(e){e({topic:"from_client",qos:0,payload:"ToggleView:Families"})}(t)},children:" view Families "}),Object(r.jsx)(f.a,{onClick:function(){return function(e){e({topic:"from_client",qos:0,payload:"ToggleView:Grid"})}(t)},children:"    view Grid  "})]})]})});return Object(r.jsx)(O.a,{title:"Control Panel",children:s})},v=function(e){var t=e.sub,n=e.unSub,c=e.showUnsub,i=u.a.useForm(),a=Object(l.a)(i,1)[0],o={topic:"from_server/#",qos:0},s=Object(r.jsxs)(u.a,{layout:"vertical",name:"basic",form:a,initialValues:o,onFinish:function(e){var n=e;n.qos=o.qos,t(n)},children:[Object(r.jsx)(j.a,{gutter:20,children:Object(r.jsx)(d.a,{span:8,children:Object(r.jsx)(u.a.Item,{label:"Topic",name:"topic",children:Object(r.jsx)(b.a,{})})})}),Object(r.jsx)(j.a,{children:Object(r.jsx)(d.a,{span:8,children:Object(r.jsxs)(u.a.Item,{children:[Object(r.jsx)(f.a,{type:"primary",htmlType:"submit",children:"Subscribe"}),c?Object(r.jsx)(f.a,{type:"danger",style:{marginLeft:"10px"},onClick:function(){var e=a.getFieldsValue();n(e)},children:"Unsubscribe"}):null]})})})]});return Object(r.jsx)(O.a,{children:s})},g=n(103),y=(n(335),n(38)),C=(n(248),n(133),n(249),function(e,t,n,c){c({topic:"from_client",qos:0,payload:"Update/"+e+"/"+t+"/"+n})}),w=function(e,t,n,c,i,a,o,r,s){var l=document.createElement("div"),u=document.createElement("label"),j=document.createElement("input"),d=document.createElement("input");u.textContent=n,j.type="text",j.id=n+"Input",j.className="slider_input",d.type="range",d.id=n+"Range",d.className="slider_range",d.min=c,d.max=i,d.step=a,d.value=o,j.value=o,l.className="slidecontainer",l.appendChild(u),l.appendChild(j),l.appendChild(d),d.oninput=function(){j.value=this.value,r(t,n,d.value,s)},j.oninput=function(){d.value=this.value,r(t,n,j.value,s)},e.appendChild(l)},S=function(e,t,n,c,i,a){var o=document.createElement("div"),r=document.createElement("label"),s=document.createElement("input");r.textContent=n,s.type="checkbox",s.id=n+"Input",s.className="boolean_input",s.value=c,"true"===s.value&&(s.checked=!0),o.className="slidecontainer",o.appendChild(r),o.appendChild(s),s.oninput=function(){this.value="true"===this.value?"false":"true",i(t,n,s.value,a)},e.appendChild(o)},k=function(e,t){var n=e.order,c=e.ui_settings,i=e.width,a=e.height,o=e.title,s=e.x,l=e.y,u=document.createElement("div");u.className="panel_div",u.id=o,n.forEach((function(n){var i=c[n],a=e[n];"slider"===i.type?w(u,o,n,i.min,i.max,i.step,a,C,t):"boolean"===i.type&&S(u,o,n,a,C,t)}));return Object(r.jsx)("div",{children:void(null==document.getElementById(o)&&y.a.create({theme:"dark",headerLogo:'<i class="fad fa-home-heart ml-2"></i>',headerTitle:o,panelSize:{width:function(){return Math.min(i,.9*window.innerWidth)},height:function(){return Math.min(a,.6*window.innerHeight)}},position:"left-top "+s+" "+l,animateIn:"jsPanelFadeIn",onwindowresize:!0,content:u,onbeforeclose:function(){return window.confirm("Do you really want to close the "+e.title+" panel?")}}))})},_=n(333),q=n(327),I=n(344),N=n(339),E=n(328),T=n(329),F=n(330),V=n(341),M=n(332),P=(n(250),function(e){var t=20,n=50,i=500-n-80,a=300-t-30,o=Object(_.a)().range([0,i]),s=Object(_.a)().range([a,0]),u=Object(q.a)(I.a),j=Object(N.a)().curve(E.a).x((function(e){return o(e.time)})).y((function(e){return s(e.value)})),d=Object(c.useState)(e.data),b=Object(l.a)(d,2),f=b[0];b[1];return o.domain([Object(T.a)(f,(function(e){return Object(T.a)(e.values,(function(e){return e.time}))})),Object(F.a)(f,(function(e){return Object(F.a)(e.values,(function(e){return e.time}))}))]),s.domain([Object(T.a)(f,(function(e){return Object(T.a)(e.values,(function(e){return e.value}))})),Object(F.a)(f,(function(e){return Object(F.a)(e.values,(function(e){return e.value}))}))]),u.domain(f.map((function(e){return e.id}))),s.domain()[0]-s.domain()[1]==0&&s.domain([0,1]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("svg",{width:500,height:300,children:Object(r.jsxs)("g",{transform:"translate(".concat(n,", ").concat(t,")"),children:[Object(r.jsx)("g",{className:"axis axis--x",transform:"translate(0, ".concat(a,")"),ref:function(e){return Object(M.a)(e).call(Object(V.a)(o))}}),Object(r.jsx)("g",{className:"axis axis--y",ref:function(e){return Object(M.a)(e).call(Object(V.b)(s))},children:Object(r.jsx)("text",{transform:"rotate(-90)",y:"6",dy:"0.71em",fill:"#000",children:"value"})}),f.map((function(e){var t=e.values.slice(-1),n=Object(l.a)(t,1)[0];return Object(r.jsxs)("g",{className:"trackedVar",children:[Object(r.jsx)("path",{className:"line",d:j(e.values),style:{stroke:u(e.id)}}),Object(r.jsx)("text",{transform:"translate(".concat(o(n.time),", ").concat(s(n.value),")"),x:3,dy:"0.35em",style:{font:"10px sans-serif"},children:e.id})]},e.id)}))]})})})}),B=(n(251),function(e){var t=e.payload,n=e.publish,i=Object(c.useContext)(D),a=i.state,o=i.dispatch,s=Object(c.useState)(!1),u=Object(l.a)(s,2),j=u[0],d=u[1],b=Object(c.useState)([]),f=Object(l.a)(b,2),h=(f[0],f[1]),p=Object(c.useState)({}),m=Object(l.a)(p,2),x=m[0],v=m[1];Object(c.useEffect)((function(){a.setupClicked&&(v({}),o({type:"unSetup"}))}),[a]);var y={"from_server/panel_info":function(e){for(var t=0,c=Object.entries(e);t<c.length;t++){var i=Object(l.a)(c[t],2),a=i[0],o=i[1];"Monitor"!==a&&k(o,n)}},"from_server/update":function(e){if(0===Object.keys(x).length){d(!0);for(var t=0,n=Object.entries(e);t<n.length;t++){var c=Object(l.a)(n[t],2),i=c[0],a=c[1];x[i]=[{time:0,value:a}]}}else for(var o=0,r=Object.entries(e);o<r.length;o++){var s=Object(l.a)(r[o],2),u=s[0],j=s[1],b=x[u],f={time:b[b.length-1].time+1,value:j};b.push(f)}}};Object(c.useEffect)((function(){if(t.topic){var e=JSON.parse(t.message);h((function(e){return[].concat(Object(g.a)(e),[t])})),y[t.topic](e)}}),[t]);return Object(r.jsx)(O.a,{title:"Receiver",children:j&&Object(r.jsx)("div",{id:"allMonitorsDiv",children:Object.keys(x).map((function(e){var t=[{id:e,values:x[e]}];return Object(r.jsxs)("div",{className:"monitorDiv",children:[" ",Object(r.jsx)(P,{data:t})," "]},e)}))})})}),R=n(167),U=n.n(R),D=Object(c.createContext)([]),H={setupClicked:!1};function W(e,t){switch(t.type){case"setup":return{setupClicked:!0};default:return H}}var z=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(!1),o=Object(l.a)(a,2),s=o[0],u=o[1],j=Object(c.useState)({}),d=Object(l.a)(j,2),b=d[0],f=d[1],O=Object(c.useState)("Connect"),p=Object(l.a)(O,2),m=p[0],g=p[1],y=Object(c.useReducer)(W,H),C=Object(l.a)(y,2),w=C[0],S=C[1];Object(c.useEffect)((function(){n&&(n.on("connect",(function(){g("Connected")})),n.on("error",(function(e){console.error("Connection error: ",e),n.end()})),n.on("reconnect",(function(){g("Reconnecting")})),n.on("message",(function(e,t){var n={topic:e,message:t.toString()};f(n)})))}),[n]);var k=function(e){if(n){var t=e.topic,c=e.qos,i=e.payload;n.publish(t,i,{qos:c},(function(e){e&&console.log("Publish error: ",e)}))}};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(D.Provider,{value:{state:w,dispatch:S},children:[Object(r.jsx)(h,{connect:function(e,t){g("Connecting"),i(U.a.connect(e,t))},disconnect:function(){n&&n.end((function(){g("Connect")}))},connectBtn:m}),Object(r.jsx)(v,{sub:function(e){if(n){var t=e.topic,c=e.qos;n.subscribe(t,{qos:c},(function(e){e?console.log("Subscribe to topics error",e):u(!0)}))}},unSub:function(e){if(n){var t=e.topic;n.unsubscribe(t,(function(e){e?console.log("Unsubscribe error",e):u(!1)}))}},showUnsub:s}),Object(r.jsx)(x,{publish:k}),Object(r.jsx)(B,{payload:b,publish:k})]})})};var G=function(e){return Object(r.jsx)("div",{id:"body-div",children:Object(r.jsx)("div",{className:"container-fluid",style:{padding:24,minHeight:"100vh"},children:Object(r.jsx)(z,{id:"mqtt"})})})};n(312);var J=function(e){return Object(r.jsxs)("div",{id:"footer-div",children:[Object(r.jsx)("div",{children:"Item 1"}),Object(r.jsx)("div",{children:"Item 2"}),Object(r.jsx)("div",{children:"Item 3"}),Object(r.jsx)("div",{children:"Item 4"})]})},L=n(340),A=n(342),K=n(343),Q=(n(313),o.a.Sider),X=L.a.SubMenu;var Y=function(e){var t=Object(c.useState)(!0),n=Object(l.a)(t,2),i=n[0],a=n[1];return Object(r.jsx)(Q,{id:"sideBar",collapsible:!0,collapsed:i,onCollapse:function(e){console.log(i),a(e)},children:Object(r.jsxs)(L.a,{theme:"dark",id:"sidebar-menu",defaultSelectedKeys:["1"],mode:"inline",children:[Object(r.jsx)(X,{icon:Object(r.jsx)(A.a,{}),title:"Connection",children:Object(r.jsx)(z,{id:"mqtt"})},"sub1"),Object(r.jsxs)(X,{icon:Object(r.jsx)(K.a,{}),title:"A thing",children:[Object(r.jsx)(L.a.Item,{children:"Team 10"},"6"),Object(r.jsx)(L.a.Item,{children:"Team 20"},"8")]},"sub2")]})})};n(158);var Z=function(e){return Object(r.jsxs)(o.a,{style:{minHeight:"100vh"},children:[Object(r.jsx)(Y,{}),Object(r.jsxs)(o.a,{className:"site-layout",children:[Object(r.jsx)(s,{}),Object(r.jsx)(G,{}),Object(r.jsx)(J,{})]})]})},$=(n(314),n(315),function(){return Object(r.jsx)("div",{children:Object(r.jsx)(Z,{})})});a.a.render(Object(r.jsx)($,{}),document.getElementById("root"))}},[[316,1,2]]]);
//# sourceMappingURL=main.788d13a0.chunk.js.map