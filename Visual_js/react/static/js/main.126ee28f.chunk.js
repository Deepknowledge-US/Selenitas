(this.webpackJsonpnin_0=this.webpackJsonpnin_0||[]).push([[0],{172:function(e,t,n){},174:function(e,t,n){},244:function(e,t,n){},254:function(e,t){},256:function(e,t){},290:function(e,t){},291:function(e,t){},294:function(e,t){},296:function(e,t){},305:function(e,t,n){},306:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(28),o=n.n(i),a=n(312),l=(n(172),n(6));var s=function(e){return Object(l.jsxs)("div",{id:"header",className:"site-layout-background",children:[Object(l.jsx)("div",{id:"logo-div"}),Object(l.jsx)("h3",{children:"nin - Deepknowledge Group"})]})},r=(n(174),n(26)),d=n(313),u=n(70),j=n(41),b=n(317),h=n(166),p=n(314),m=function(e){var t=e.connect,n=e.disconnect,c=e.connectBtn,i=d.a.useForm(),o=Object(r.a)(i,1)[0],a={host:"127.0.0.1",clientId:"mqttjs_ + ".concat(Math.random().toString(16).substr(2,8)),port:8083,topic:"from_client/#"},s=Object(l.jsxs)(d.a,{layout:"vertical",name:"basic",form:o,initialValues:a,onFinish:function(e){var n=e.host,c=e.port,i="ws://".concat(n,":").concat(c,"/mqtt"),o={keepalive:30,protocolId:"MQTT",protocolVersion:4,clean:!0,reconnectPeriod:1e3,connectTimeout:3e4,will:{topic:"WillMsg",payload:"Connection Closed abnormally..!",qos:0,retain:!1},rejectUnauthorized:!1};o.clientId=a.clientId,t(i,o)},children:[Object(l.jsxs)(u.a,{gutter:20,children:[Object(l.jsx)(j.a,{span:8,children:Object(l.jsx)(d.a.Item,{label:"Host",name:"host",children:Object(l.jsx)(b.a,{})})}),Object(l.jsx)(j.a,{span:8,children:Object(l.jsx)(d.a.Item,{label:"Port",name:"port",children:Object(l.jsx)(b.a,{})})})]}),Object(l.jsx)(u.a,{gutter:20,children:Object(l.jsxs)(j.a,{span:8,children:[Object(l.jsx)(h.a,{type:"primary",onClick:function(){o.submit()},children:c}),Object(l.jsx)(h.a,{danger:!0,onClick:function(){n()},children:"Disconnect"})]})})]});return Object(l.jsx)(p.a,{title:"Connection",children:s})},f=n(316),O=function(e){var t=e.publish,n=d.a.useForm(),i=Object(r.a)(n,1)[0],o=(Object(c.useContext)(N),Object(l.jsx)(d.a,{layout:"vertical",name:"basic",form:i,children:Object(l.jsxs)(u.a,{gutter:20,children:[Object(l.jsx)(j.a,{span:8,children:Object(l.jsx)(b.a,{type:"file",onChange:function(e){!function(e){for(var t=document.getElementsByClassName(e);t.length>0;)t[0].parentNode.removeChild(t[0])}("jsPanel");var n=e.target.files[0].name,c=n.split(".")[0];console.log("Load:"+c+"/"+n),t({topic:"from_client",qos:0,payload:"Load|"+c+"/"+n})}})}),Object(l.jsxs)(j.a,{span:8,children:[Object(l.jsx)(h.a,{onClick:function(){t({topic:"from_client",qos:0,payload:"Setup"})},children:" Setup "}),Object(l.jsx)(h.a,{onClick:function(){t({topic:"from_client",qos:0,payload:"Step"})},children:" Step "}),Object(l.jsx)(h.a,{onClick:function(){t({topic:"from_client",qos:0,payload:"Run"})},children:"  Run  "}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{children:"Speed:"}),Object(l.jsx)(f.a,{min:1,max:10,defaultValue:10,onChange:function(e){t({topic:"from_client",qos:0,payload:"Speed:"+e})}})]}),Object(l.jsxs)(j.a,{span:8,children:[Object(l.jsx)(h.a,{onClick:function(){t({topic:"from_client",qos:0,payload:"ToggleView:Stats"})},children:"  view Stats "}),Object(l.jsx)(h.a,{onClick:function(){t({topic:"from_client",qos:0,payload:"ToggleView:Windows"})},children:" view Windows "}),Object(l.jsx)(h.a,{onClick:function(){t({topic:"from_client",qos:0,payload:"ToggleView:Families"})},children:"view Families "}),Object(l.jsx)(h.a,{onClick:function(){t({topic:"from_client",qos:0,payload:"ToggleView:Grid"})},children:"  view Grid "})]})]})}));return Object(l.jsx)(p.a,{title:"Control Panel",children:o})},x=n(81),v=function(e){var t=e.sub,n=e.unSub,i=e.showUnsub,o=d.a.useForm(),a=Object(r.a)(o,1)[0],s=Object(c.useContext)(N),m=Object(l.jsxs)(d.a,{layout:"vertical",name:"basic",form:a,initialValues:{topic:"from_server/#",qos:0},onFinish:function(e){t(e)},children:[Object(l.jsxs)(u.a,{gutter:20,children:[Object(l.jsx)(j.a,{span:8,children:Object(l.jsx)(d.a.Item,{label:"Topic",name:"topic",children:Object(l.jsx)(b.a,{})})}),Object(l.jsx)(j.a,{span:8,children:Object(l.jsx)(d.a.Item,{label:"QoS",name:"qos",children:Object(l.jsx)(x.a,{options:s})})})]}),Object(l.jsx)(u.a,{children:Object(l.jsx)(j.a,{span:8,children:Object(l.jsxs)(d.a.Item,{children:[Object(l.jsx)(h.a,{type:"primary",htmlType:"submit",children:"Subscribe"}),i?Object(l.jsx)(h.a,{type:"danger",style:{marginLeft:"10px"},onClick:function(){var e=a.getFieldsValue();n(e)},children:"Unsubscribe"}):null]})})})]});return Object(l.jsx)(p.a,{children:m})},g=n(100),y=n(315),C=n(37),w=(n(128),n(129),n(244),function(e,t,n,c){c({topic:"from_client",qos:0,payload:"Update/"+e+"/"+t+"/"+n})}),S=function(e,t,n,c,i,o,a,l,s){var r=document.createElement("div"),d=document.createElement("label"),u=document.createElement("input"),j=document.createElement("input");d.textContent=n,u.type="text",u.id=n+"Input",u.className="slider_input",j.type="range",j.id=n+"Range",j.className="slider_range",j.min=c,j.max=i,j.step=o,j.value=a,u.value=a,r.className="slidecontainer",r.appendChild(d),r.appendChild(u),r.appendChild(j),j.oninput=function(){u.value=this.value,l(t,n,j.value,s)},u.oninput=function(){j.value=this.value,l(t,n,u.value,s)},e.appendChild(r)},I=function(e,t,n,c,i,o){var a=document.createElement("div"),l=document.createElement("label"),s=document.createElement("input");l.textContent=n,s.type="checkbox",s.id=n+"Input",s.className="boolean_input",s.value=c,"true"===s.value&&(s.checked=!0),a.className="slidecontainer",a.appendChild(l),a.appendChild(s),s.oninput=function(){this.value="true"===this.value?"false":"true",i(t,n,s.value,o)},e.appendChild(a)},q=function(e,t){var n=e.order,c=e.ui_settings,i=e.width,o=e.height,a=e.title,s=e.x,r=e.y,d=document.createElement("div");d.className="panel_div",d.id=a,n.forEach((function(n){var i=c[n],o=e[n];"slider"===i.type?S(d,a,n,i.min,i.max,i.step,o,w,t):"boolean"===i.type&&I(d,a,n,o,w,t)}));return Object(l.jsx)("div",{children:void(null==document.getElementById(a)&&C.a.create({theme:"dark",headerLogo:'<i class="fad fa-home-heart ml-2"></i>',headerTitle:a,panelSize:{width:function(){return Math.min(i,.9*window.innerWidth)},height:function(){return Math.min(o,.6*window.innerHeight)}},position:"left-top "+s+" "+r,animateIn:"jsPanelFadeIn",onwindowresize:!0,content:d,onbeforeclose:function(){return window.confirm("Do you really want to close the "+e.title+" panel?")}}))})},_=function(e){var t=e.payload,n=e.publish,i=Object(c.useState)([]),o=Object(r.a)(i,2),a=o[0],s=o[1];Object(c.useEffect)((function(){if(t.topic&&(s((function(e){return[].concat(Object(g.a)(e),[t])})),t.topic.includes("panel_info"))){console.log("--- start ---");for(var e=JSON.parse(t.message),c=0,i=Object.entries(e);c<i.length;c++){var o=Object(r.a)(i[c],2),a=o[0],l=o[1];"Monitor"==a&&console.log("Creando ventana: ",a),q(l,n)}console.log("--- end ---")}}),[t]);return Object(l.jsx)(p.a,{title:"Receiver",children:Object(l.jsx)(y.b,{size:"small",bordered:!0,dataSource:a,renderItem:function(e){return Object(l.jsx)(y.b.Item,{children:Object(l.jsx)(y.b.Item.Meta,{title:e.topic,description:e.message})})},style:{maxHeight:"15em",overflow:"scroll"}})})},k=n(163),E=n.n(k),N=Object(c.createContext)([]),T=[{label:"0",value:0},{label:"1",value:1},{label:"2",value:2}],F=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)(!1),a=Object(r.a)(o,2),s=a[0],d=a[1],u=Object(c.useState)({}),j=Object(r.a)(u,2),b=j[0],h=j[1],p=Object(c.useState)("Connect"),f=Object(r.a)(p,2),x=f[0],g=f[1];Object(c.useEffect)((function(){n&&(n.on("connect",(function(){g("Connected")})),n.on("error",(function(e){console.error("Connection error: ",e),n.end()})),n.on("reconnect",(function(){g("Reconnecting")})),n.on("message",(function(e,t){var n={topic:e,message:t.toString()};h(n)})))}),[n]);var y=function(e){if(n){var t=e.topic,c=e.qos,i=e.payload;n.publish(t,i,{qos:c},(function(e){e&&console.log("Publish error: ",e)}))}};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m,{connect:function(e,t){g("Connecting"),i(E.a.connect(e,t))},disconnect:function(){n&&n.end((function(){g("Connect")}))},connectBtn:x}),Object(l.jsxs)(N.Provider,{value:T,children:[Object(l.jsx)(v,{sub:function(e){if(n){var t=e.topic,c=e.qos;n.subscribe(t,{qos:c},(function(e){e?console.log("Subscribe to topics error",e):d(!0)}))}},unSub:function(e){if(n){var t=e.topic;n.unsubscribe(t,(function(e){e?console.log("Unsubscribe error",e):d(!1)}))}},showUnsub:s}),Object(l.jsx)(O,{publish:y})]}),Object(l.jsx)(_,{payload:b,publish:y})]})};var V=function(e){return Object(l.jsx)("div",{id:"body-div",children:Object(l.jsxs)("div",{className:"container-fluid",style:{padding:24,minHeight:"100vh"},children:[Object(l.jsx)(F,{id:"mqtt"}),"final"]})})};n(305);var M=function(e){return Object(l.jsxs)("div",{id:"footer-div",children:[Object(l.jsx)("div",{children:"Item 1"}),Object(l.jsx)("div",{children:"Item 2"}),Object(l.jsx)("div",{children:"Item 3"}),Object(l.jsx)("div",{children:"Item 4"})]})},B=n(318),P=n(319),U=n(320),H=(n(306),a.a.Sider),R=B.a.SubMenu;var z=function(e){var t=Object(c.useState)(!0),n=Object(r.a)(t,2),i=n[0],o=n[1];return Object(l.jsx)(H,{id:"sideBar",collapsible:!0,collapsed:i,onCollapse:function(e){console.log(i),o(e)},children:Object(l.jsxs)(B.a,{theme:"dark",id:"sidebar-menu",defaultSelectedKeys:["1"],mode:"inline",children:[Object(l.jsx)(R,{icon:Object(l.jsx)(P.a,{}),title:"Connection",children:Object(l.jsx)(F,{id:"mqtt"})},"sub1"),Object(l.jsxs)(R,{icon:Object(l.jsx)(U.a,{}),title:"A thing",children:[Object(l.jsx)(B.a.Item,{children:"Team 10"},"6"),Object(l.jsx)(B.a.Item,{children:"Team 20"},"8")]},"sub2")]})})};n(154);var L=function(e){return Object(l.jsxs)(a.a,{style:{minHeight:"100vh"},children:[Object(l.jsx)(z,{}),Object(l.jsxs)(a.a,{className:"site-layout",children:[Object(l.jsx)(s,{}),Object(l.jsx)(V,{}),Object(l.jsx)(M,{})]})]})},W=(n(307),n(308),function(){return Object(l.jsx)("div",{children:Object(l.jsx)(L,{})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(l.jsx)(W,{}),document.getElementById("root"))}},[[309,1,2]]]);
//# sourceMappingURL=main.126ee28f.chunk.js.map